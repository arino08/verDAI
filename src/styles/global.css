:root {
  --bg: #050507;
  --bg-alt: #0d0f13;
  --panel: #11151d;
  --accent: #5d6bff;
  --accent-glow: 180 100% 60%;
  --text: #e6e9ef;
  --text-dim: #8a93a5;
  --danger: #ff4d67;
  --warn: #ffb347;
  --ok: #3ddc97;
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif;
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  font-family: var(--font-sans);
  background: radial-gradient(circle at 30% 20%, #101520, #050507 60%) fixed;
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  transition: all 0.9s ease;
}

::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background: #050507; }
::-webkit-scrollbar-thumb { background: #1d2430; border-radius: 6px; }
::-webkit-scrollbar-thumb:hover { background: #263042; }

body::before {
  content: "";
  position: fixed; inset: 0;
  background: radial-gradient(circle at 70% 80%, rgba(93,107,255,0.08), transparent 60%),
              radial-gradient(circle at 10% 90%, rgba(61,220,151,0.07), transparent 55%);
  pointer-events: none;
  mix-blend-mode: screen;
  z-index: 0;
}

/* Secure Mode Theme */
.theme-secure body, .theme-secure {
  --bg: #07090c;
  --bg-alt: #0c1016;
  --panel: #0f141b;
  --accent: #ffb347;
  --text: #f5f8fa;
  --text-dim: #a7b2be;
  background: radial-gradient(circle at 60% 30%, #131c26, #06080b 70%) fixed;
}
.theme-secure button.gradient { background: linear-gradient(120deg,#ff4d67,#ff8a4d 40%,#ffb347); }
.theme-secure button { background: linear-gradient(135deg,#2b3039,#191e25); }
.theme-secure h1,h2,h3,h4 { color: #fff; }
.theme-secure ::selection { background:#ffb347; color:#000; }

/* Panel refinements */
.secure-panel {
  background: linear-gradient(155deg,rgba(22,27,34,0.92) 0%,rgba(13,17,22,0.9) 65%);
  border: 1px solid rgba(80,100,120,0.25);
  box-shadow: 0 4px 28px -12px rgba(0,0,0,0.7), 0 0 0 1px rgba(80,100,120,0.18);
  position: relative;
}
.panel-soft-glow { position:absolute; inset:0; pointer-events:none; }
.panel-soft-glow::before, .panel-soft-glow::after { content:""; position:absolute; border-radius:inherit; filter:blur(42px); opacity:.55; }
.panel-soft-glow::before { width:420px; height:420px; background:radial-gradient(circle at 30% 25%,rgba(255,189,46,0.18),transparent 70%); top:-140px; left:-120px; }
.panel-soft-glow::after { width:320px; height:320px; background:radial-gradient(circle at 70% 75%,rgba(255,94,86,0.22),transparent 70%); bottom:-120px; right:-100px; }

/* Neutralize unintended rectangular glow in dark mode panels */
/* Upload panel softened internal glow (removed harsh boxed blur) */
.upload-panel { box-shadow: 0 10px 40px -18px rgba(0,0,0,0.85), 0 0 0 1px rgba(120,140,170,0.05) !important; position:relative; }
/* Use two large, very lowâ€‘contrast radials and feather them with a mask so edges never appear as a rectangle. */
.upload-panel::before { content:""; position:absolute; inset:0; pointer-events:none; background:
    radial-gradient(circle at 18% 24%, rgba(93,107,255,0.30) 0%, rgba(93,107,255,0.12) 22%, rgba(93,107,255,0.04) 46%, transparent 70%),
    radial-gradient(circle at 82% 78%, rgba(61,220,151,0.26) 0%, rgba(61,220,151,0.10) 28%, rgba(61,220,151,0.035) 50%, transparent 72%);
  /* Feather: keep center opaque for effect, fade outer 30% to eliminate rectangular imprint */
  mask: radial-gradient(circle at 50% 55%, #000 0 68%, transparent 100%);
  opacity:.55;
}
/* Optional subtle film grain to break banding (very faint) */
.upload-panel::after { content:""; position:absolute; inset:0; pointer-events:none; background:
    repeating-linear-gradient(45deg, rgba(255,255,255,0.007) 0 2px, transparent 2px 5px);
  mix-blend-mode:overlay; opacity:.25; }
/* Drop overlays refinement */
/* Drop zone overlays: stronger mask feather + plus-lighter compose to avoid visible edge box */
.drop-radial-overlay { 
  background:
    radial-gradient(circle at 35% 30%, rgba(93,107,255,0.34) 0%, rgba(93,107,255,0.12) 35%, transparent 62%),
    radial-gradient(circle at 75% 72%, rgba(61,220,151,0.28) 0%, rgba(61,220,151,0.10) 38%, transparent 64%);
  mask: radial-gradient(circle at 50% 50%, #000 0 74%, transparent 95%);
  mix-blend-mode: plus-lighter;
  opacity:.40;
}
.drop-overlay-lines { backdrop-filter: blur(0.2px); mask: linear-gradient(#000, #000 80%, transparent 95%); opacity:.16; }

h1,h2,h3,h4 { font-weight: 600; letter-spacing: -0.5px; }

button {
  font-family: inherit;
  cursor: pointer;
  border: 1px solid rgba(140,160,185,0.18);
  background: linear-gradient(145deg,#1c242e,#11161c 55%,#0c1014);
  color: var(--text);
  padding: 0.65rem 1.05rem;
  border-radius: 11px;
  font-size: 0.92rem;
  display: inline-flex;
  align-items: center;
  gap: 0.55rem;
  position: relative;
  overflow: hidden;
  line-height: 1.1;
  letter-spacing: .3px;
  transition: background .5s, border-color .5s, transform .25s, filter .5s;
  backdrop-filter: blur(4px) saturate(160%);
}
button::before {
  content:""; position:absolute; inset:0; background:radial-gradient(circle at 30% 15%,rgba(255,255,255,0.06),transparent 70%); opacity:0; transition:opacity .6s; pointer-events:none;
}
button:hover { background: linear-gradient(145deg,#27303b,#151b22 55%,#10151a); border-color: rgba(160,185,210,0.32); }
button:hover::before { opacity:.55; }
button:active { transform: translateY(2px); }

button.gradient {
  background: linear-gradient(115deg,#5661ff,#7f5dff 42%,#3ddc97 78%);
  border: 1px solid rgba(120,140,255,0.55);
  color: #fff;
  font-weight: 600;
  letter-spacing: 0.5px;
  box-shadow: 0 4px 18px -6px rgba(118,110,255,0.5), 0 0 0 0 rgba(121,108,255,0.35);
  animation: pulse 6s infinite;
}
button.gradient:hover { filter: brightness(1.12); }

.theme-secure button.gradient { background: linear-gradient(120deg,#ff5d6f,#ff8e4d 45%,#ffb347); border-color: rgba(255,140,90,0.55); box-shadow:0 4px 18px -6px rgba(255,140,90,0.5); }
.theme-secure button.gradient:hover { filter: brightness(1.13); }

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(121,108,255,0.35); }
  50% { box-shadow: 0 0 0 12px rgba(121,108,255,0); }
  100% { box-shadow: 0 0 0 0 rgba(121,108,255,0); }
}

input[type="file"] { display: none; }

.fade-in { animation: fade 0.6s ease; }
@keyframes fade { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes spin { to { transform: rotate(360deg); } }

/* Mobile optimizations */
@media (max-width: 860px) {
  body { font-size: 15px; }
  h1 { font-size: 1.9rem !important; }
  button { padding: 0.65rem 0.95rem; font-size: 0.9rem; }
  main { padding: 1.25rem !important; }
}
@media (max-width: 640px) {
  h1 { font-size: 1.65rem !important; }
  .stack-mobile { flex-direction: column !important; align-items: stretch !important; }
  .hide-mobile { display: none !important; }
  .upload-panel { padding: 1.6rem 1.25rem 2.1rem !important; border-radius: 22px !important; }
  .upload-drop { padding: 1.8rem 1rem 1.7rem !important; margin-bottom: 2rem !important; min-height: 170px !important; }
  .quota-row { flex-direction: column; align-items: stretch !important; gap: 0.75rem !important; }
  footer { padding: 0.9rem 0.5rem !important; font-size: 0.65rem !important; }
  .dashboard-grid { grid-template-columns: repeat(auto-fit,minmax(150px,1fr)) !important; gap: 0.8rem !important; }
  .history-full { padding: 1rem 1rem !important; }
  .metric-wrap > div { width: 130px !important; }
}
@media (max-width: 420px) {
  h1 { font-size: 1.45rem !important; }
  button { font-size: 0.8rem; }
  .upload-panel { padding: 1.4rem 1rem 1.8rem !important; }
  .upload-drop { padding: 1.5rem 0.8rem 1.4rem !important; min-height: 150px !important; }
  .metric-wrap > div { width: 110px !important; }
}
